{% extends 'base.html.twig' %}

{% block title %}Page{% endblock %}

{% block body %}
    <h1>{{ page.name }}</h1>
    {% for pageSection in page.PageSections %}
        <h2>{{ pageSection.section.name }}</h2>
        <h2>{{ pageSection.section.type.name }}</h2>
        <div class="video-slider">
            <button class="slide-btn left-btn" aria-label="Previous">&#8592;</button>

            <div class="videos">
                {% for video in pageSection.section.videos %}
                        <div class="video">
                            <a href="{{ path('show_video', {'slugVideo': video.slugVideo}) }}">
                                <img src="{{ asset('build/images/' ~ video.image) }}" alt="{{ video.title }}" class="video-image">
                            </a>
                            <h2>{{ video.title }}</h2>
                            <p>Date de publication : {{ video.datetime|date('d-m-Y') }}</p>
                        </div>
                {% endfor %}
            </div>

            <button class="slide-btn right-btn" aria-label="Next">&#8594;</button>
        </div>
    {% endfor %}

    <a href="{{ path('app_page_index') }}">back to list</a>
    <a href="{{ path('app_page_edit', {'id': page.id}) }}">edit</a>

    {{ include('page/_delete_form.html.twig') }}
{% endblock %}
